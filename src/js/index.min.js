var ie = false,
    firefox = false,
    userAgent;
var isScrollIn = true,
    ScrollAnimationTimer = null,
    ScrollPos = 0;
var isCVIn = true,
    CVInActionTimer = null;
(function (f) {
    var a = navigator.userAgent;
    var k = window
        .navigator
        .userAgent
        .toLowerCase();
    if (a.match(/iPhone/i) || a.match(/iPod/i)) {
        userAgent = "SMARTPHONE"
    } else {
        if (a.match(/iPad/i)) {
            userAgent = "TABLET"
        } else {
            if (a.match(/Android/i)) {
                if (a.match(/mobile/i)) {
                    userAgent = "SMARTPHONE"
                } else {
                    userAgent = "TABLET"
                }
            } else {
                userAgent = "PC"
            }
        }
    }
    if (k.indexOf("firefox") > -1) {
        firefox = true
    }
    var h = function () {
      //  j();
        d();
        c();
      /*  f("#free_trial_program").delay(800).animate({
            left: "0px"
        }, 800, "easeInOutQuart");*/
        f(window).on("load", function () {
            f("#content").addClass("set");
            setTimeout(i, 500)
        })
    };
    var i = function () {
        f("#scroll").animate({
            opacity: 1
        }, 1200, "easeOutQuart");
        //e();
        setTimeout("ScrollAnimation()")
    };
    /*var e = function () {
        f("#pagetop").find("a").click(function () {
            f("html, body").animate({
                scrollTop: 0
            }, 800, "easeInOutQuart");
            return false
        })
    };*/
    /*var j = function () {
        if (userAgent != "PC") {
            var b = '<video poster="assets/movie/movie.gif" loop muted playsinline><source src="assets/movie/sp.mp4" type="video/mp4" /></video>';
            f("#mov").prepend(b)
        } else {
            var b = '<video poster="assets/imgs/common/bg.jpg" loop muted autoplay><source src="assets/movie/pc.mp4" type="video/mp4" /></video>';
            f("#mov").prepend(b)
        }
    };*/
    var c = function () {
        f(window).scroll(function () {
            if (isCVIn && userAgent != "PC") {
                isCVIn = false;
                var v = window
                    .parent
                    .screen
                    .width;
                var b = v * -0.82;
              /*  f("#free_trial_program").stop().animate({
                    left: b + "px"
                }, 400, "easeInOutQuart");
                setTimeout("CVInTimer()", 1000)*/
            }
            var w = f(window).scrollTop();
            var t = true;
            if (w > 60) {
                t = false
            }
            if (isScrollIn != t) {
                if (t) {
                    f("#scroll").animate({
                        opacity: "1"
                    }, 400, "easeOutQuart");
                    if (ScrollAnimationTimer == null) {
                        setTimeout("ScrollAnimation()")
                    }
                } else {
                    f("#scroll").animate({
                        opacity: "0"
                    }, 400, "easeOutQuart");
                    clearInterval(ScrollAnimationTimer);
                    ScrollAnimationTimer = null
                }
                isScrollIn = t
            }
            ScrollPos = w;
            var s = f(window).height();
            var p = 200;
            var n = w + s - p;
           // var o = document.querySelectorAll(".writing-svg");
            var q = 0;
            var l = -1;
            /*f(".svg-anim").each(function () {
                if (f(this).offset().top < n) {
                    if (! f(this).hasClass("svg-anim-in")) {
                        l = q
                    }
                    f(this).addClass("svg-anim-in")
                } else {
                    if (f(this).hasClass("svg-anim-in")) {
                        f(this).removeClass("svg-anim-in");
                        o[q]
                            .querySelector("image")
                            .style
                            .opacity = 0
                    }
                }
                q++
            });*/
            if (l >= 0) {
                var u = 0;
                if (l >= 2 && l <= 6) {
                    u = 500
                }
                const r = o[l].querySelector("image");
                const x = o[l].querySelectorAll("mask path, mask line");
                o[l]
                    .querySelector("image")
                    .style
                    .opacity = 1;
                anime({
                    targets: x,
                    strokeDashoffset: [
                        anime.setDashoffset, 0
                    ],
                    duration: 200,
                    easing: "easeInOutSine",
                    delay: function (y, m) {
                        return m * 100 + u
                    }
                })
            }
        })
    };
    var slider1 = new Swiper ('.slider1', {
        loop: true,
        autoplay:true,
        pagination: {
          el: '.swiper-pagination',
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
    });
  /*  var slider2 = new Swiper ('.slider2', {
        loop: true,
        autoplay:true,
        pagination: {
          el: '.swiper-pagination',
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
    }); */

    var d = function () {
        window.sr = ScrollReveal({reset: true});
        var m = "100";
        var l = "400";
        var b = "0.4";
        sr.reveal(".anim", {
            delay: m,
            duration: l,
            viewFactor: b
        });
        sr.reveal(".animFromR", {
            delay: m,
            duration: l,
            distance: "340px",
            origin: "right",
            viewFactor: b
        });
        sr.reveal(".animFromL", {
            delay: m,
            duration: l,
            distance: "340px",
            origin: "left",
            viewFactor: b
        });
        sr.reveal(".animFromT", {
            delay: m,
            duration: l,
            distance: "100px",
            opacity: "0",
            origin: "top",
            viewFactor: b
        });
        sr.reveal(".animFromB", {
            delay: m,
            duration: l,
            distance: "100px",
            opacity: "0",
            origin: "bottom",
            viewFactor: b
        });
        sr.reveal(".animAlp", {
            delay: m,
            duration: l,
            opacity: "0",
            viewFactor: b
        });
        sr.reveal(".animOnLoad", {
            delay: m,
            duration: "800",
            opacity: "0",
            useDelay: "onload"
        });
        sr.reveal(".w100", {delay: "100"});
        sr.reveal(".w200", {delay: "200"});
        sr.reveal(".w300", {delay: "300"})
    };
    h()
}(jQuery));
/*var ScrollAnimation = function () {
    $("#bar").animate({
        top: "20px",
        opacity: "0",
        height: "50%"
    }, 1000).animate({
        top: "0px",
        opacity: "1",
        height: "100%"
    }, 0);
    ScrollAnimationTimer = setTimeout("ScrollAnimation()", 1000)
};*/
/*var CVInTimer = function () {
    var a = $(window).scrollTop();
    if (ScrollPos == a) {
        $("#free_trial_program").stop().animate({
            left: "0px"
        }, 400, "easeInOutQuart");
        isCVIn = true
    } else {
        setTimeout("CVInTimer()", 2000)
    }
    ScrollPos = a
};*/
